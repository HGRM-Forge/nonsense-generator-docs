---
title: Design document
---

## Domain model

![domainmodeldiagram.png](/images/domainmodeldiagram.png)

The model describes the main entities and their relationships in the system. The main entities are:

-   **User**: Represents the user of the system.
-   **SyntaxAnalyzer**: Responsible for analyzing the syntax of the sentences. It takes a **Sentence** and output is a **SemanticTree** that contains the semantic representation of the input sentence.
-   **ToxicityAnalyzer**: Responsible for analyzing the toxicity of the sentences.
-   **SentenceGenerator**: Responsible for generating sentences based on the templates. It takes the **SemanticTree** from the **SyntaxAnalyzer** and generates a **Sentence** by following a **SentenceStructure**.
-   **SentenceHistory**: Responsible for providing the history of the sentences generated by the user and for saving the sentences.
-   **Dictionary**: Responsible for providing the list of words. It is used by the **SentenceGenerator** to add random words to output sentence.
-   **Buckets**: it's used by: **SentenceHistory** to store the sentences, **Dictionary** to store the words and **SentenceStructure** to store the templates for the output sentence.
-   **SemanticTreeEdge**: it is necessary to represent the edges of the **SemanticTree**. It will be used to display the syntactic tree of the sentence in the user interface.

## System Sequence Diagram

![systemsequencediagram.png](/images/systemsequencediagram.png)

After building and serving the interface the user is able to:

-   Input the sentence: by writing in the text area.
-   Select the desired tense and template: by clicking in a dropdown menu. Options for random tense and template are also available.
-   With three checkbox the user can also choose to save the input words, save the output sentence and generate the syntactic tree of the sentence.

After inserting everything the user can click on the button _Generate_ to generate the sentence. The systems will then proceed as follows:

-   It will calculate the toxicity: if the sentence is too toxic it will abort all operations and warns the user.
-   It will analyze the syntax of the sentence.
-   After determining the preferences of the user, the system will generate the sentence.
-   If desired by the user, the system will save the input words and the output sentence.

At last the system will display the generated sentence in the user interface. If wanted, below the generated sentence, the system will also display the syntactic tree of the input sentence.

## Cross Subsystem Sequence Diagram

![crosssubsystemsequencediagram.png](/images/crosssubsystemsequencediagram.png)

## Internal Sequence Diagrams

### Get Template List

![internalsequencediagram_getTemplateList.png](/images/internalsequencediagram_getTemplateList.png)

### Process And Generate Sentence

![internalsequencediagram_processAndGenerateSentence.png](/images/internalsequencediagram_processAndGenerateSentence.png)

This is the function that is called when the user press the _Generate_ button. Internally the function will call all the methods needed to implement the functionality of the system.

### Toxicity

![internalsequencediagram_toxicity.png](/images/internalsequencediagram_toxicity.png)

### Analyze Sentence

![internalsequencediagram_analyzeSentence.png](/images/internalsequencediagram_analyzeSentence.png)

### Generate Sentence

![internalsequencediagram_generateSentence.png](/images/internalsequencediagram_generateSentence.png)

### Save Sentence

![internalsequencediagram_saveSentence.png](/images/internalsequencediagram_saveSentence.png)

### Save Word List

![internalsequencediagram_saveWordList.png](/images/internalsequencediagram_saveWordList.png)

## Design Class Model Diagram

![designclassmodeldiagram.png](/images/designclassmodeldiagram.png)

The design class model shows the main classes that are used in the system. The mapping of domain model classes to design classes is as follows:

-   **SyntaxAnalyzer**: its logic is implemented by **SyntaxAnalyzerService**. Its logic is implemented by API call to the _Google Natural Language API_.
-   **ToxicityAnalyzer**: its logic is implemented by **ToxicityAnalyzerService**. Its logic is implemented by API call to the _Google Natural Language API_.
-   **SentenceGenerator**: its logic is implemented by **SentenceGeneratorService**. User options are passed to the main method of this class, `generateSentence()`, with the class **SentenceProcessingOptions** which holds the desired tense and template of the user and it's preferences regarding the saving of input words and output sentences.
-   **SentenceHistory**: its logic is implemented by **SentenceHistoryService**.
-   **Dictionary**: its logic is implemented by **DictionaryService**. This class provides the method `getRandomWord()` which is used by **SentenceGeneratorService** to add random words to the output sentence.
-   **Buckets**: its behaviour is defined by the interface **Bucket** and it's implemented by an adapter **LocalBucketAdapter**.

It is to be noted that **Sentence** didn't make it to the design class model diagram. This class represented the input from the user and the output of the system. A String is used instead of this class.
